---
title: (PYTHON) Day - 16 Collections(1)
date: 2020-03-06 23:23:44
categories:
  - LANGUAGE ğŸš€
  - PYTHON
  - HACKERRANK
tags: [íŒŒì´ì¬, programming language, python, language]
subtitle: ê¸°ì´ˆë¥¼ íƒ„íƒ„íˆ!
---

# Reference

- ë¬¸ì œ ì¶œì²˜ - [HackerRank](https://www.hackerrank.com/dashboard)
- íŒŒì´ì¬ ì—°ìŠµ - [Practice - Python](https://www.hackerrank.com/domains/python?filters%5Bstatus%5D%5B%5D=unsolved&badge_type=python)

ê°œì¸ì ì¸ ìƒê°ê³¼ ìƒìƒìœ¼ë¡œ ì‘ì„±í•œ ë‚´ìš©ë“¤ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤
ë¬¸ì œë¥¼ í’€ê³  {% label success@ Discussion Tab %}ì„ ì°¸ê³ í•˜ë©° ì½”ë“œ ìŠ¤íƒ€ì¼ì„ ê°œì„ í•˜ë ¤ê³  ë…¸ë ¥í•˜ê³ ì í•©ë‹ˆë‹¤

---

# HackerRank

{% spoiler "HackerRankì˜ Python ì—°ìŠµë¬¸ì œë“¤ì€ ì•„ë˜ì™€ ê°™ì€ ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜ ëœë‹¤" %}

## Subdomain

    - ~~Introduction~~
    - ~~Basic Data Types~~
    - ~~Strings~~
    - ~~Sets~~
    - ~~Math~~
    - ~~Itertools~~
    - <strong style="color:blue">Collections</strong>
    - Date and Time
    - Errors and Exceptions
    - Classes
    - Built-Ins
    - Python Functionals
    - Regex and Parsing
    - XML
    - Closures and Decorators
    - Numpy
    - Debugging

{% endspoiler %}

---

# Collections

{% note primary no-icon %}

## ê¸°ë³¸ê°œë…

{% label warning @ **Collections Module** %}
Collections ëª¨ë“ˆì€ dict, list, set, tupleê³¼ ê°™ì€ íŒŒì´ì¬ì˜ ê¸°ë³¸ ë‚´ì¥ ì»¨í…Œì´ë„ˆë“¤ì„ í™•ì¥í•œ íŠ¹ìˆ˜ ì»¨í…Œì´ë„ˆë“¤ì„ ê°€ì§„ë‹¤.

|              |                                                                        |
| ------------ | ---------------------------------------------------------------------- |
| namedtuple() | named fieldsë¥¼ ê°€ì§€ëŠ” ì„œë¸Œí´ë˜ìŠ¤ íŠœí”Œì„ ë§Œë“œëŠ” factory í•¨ìˆ˜            |
| deque        | ì–‘ëì—ì„œ ë¹ ë¥´ê²Œ append(ì¶”ê°€)ì™€ pop(ì‚­ì œ) í•  ìˆ˜ ìˆëŠ” list-like ì»¨í…Œì´ë„ˆ |
| ChainMap     | ì—¬ëŸ¬ ë§¤í•‘ì˜ ë‹¨ì¼ ë·°ë¥¼ ë§Œë“œëŠ” dict-like í´ë˜ìŠ¤                          |
| Counter      | í•´ì‹œ ê°€ëŠ¥í•œ ê°ì²´ì˜ ìš”ì†Œ ê°œìˆ˜ë¥¼ ì„¸ëŠ” ë° ì‚¬ìš©í•˜ëŠ” dict ì„œë¸Œí´ë˜ìŠ¤        |
| OrderedDict  | í•­ëª©ì´ ì¶”ê°€ëœ ìˆœì„œë¥¼ ê¸°ì–µí•˜ëŠ” dict ì„œë¸Œí´ë˜ìŠ¤                          |
| defaultdict  | ê²°ì¸¡ê°’ì— ê¸°ë³¸ ê°’ì„ ìë™ìœ¼ë¡œ ì§€ì •í•´ì£¼ëŠ” dict ì„œë¸Œí´ë˜ìŠ¤                 |
| UserDict     | ë” ì‰¬ìš´ dict ì„œë¸Œ í´ë˜ì‹±ì„ ìœ„í•´ dict ê°ì²´ë¥¼ ê°ì‹¸ëŠ” wrapper             |
| UserList     | ë” ì‰¬ìš´ list ì„œë¸Œ í´ë˜ì‹±ì„ ìœ„í•´ list ê°ì²´ë¥¼ ê°ì‹¸ëŠ” wrapper             |
| UserString   | ë” ì‰¬ìš´ string ì„œë¸Œ í´ë˜ì‹±ì„ ìœ„í•´ string ê°ì²´ë¥¼ ê°ì‹¸ëŠ” wrapper         |

### namedtuple()

{% note primary no-icon %}
tupleì˜ immutableí•œ ì„±ì§ˆì„ ë„ë©´ì„œ Dictionary Keyë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì¥ì ë“¤ì„ ê°€ì§€ê³  ìˆë‹¤.
{% code lang:python %}

> > > # ê¸°ë³¸ ì˜ˆ
> > >
> > > Point = namedtuple('Point', ['x', 'y'])
> > > p = Point(11, y=22) # ìœ„ì¹˜ì™€ í‚¤ì›Œë“œ ì¸ìë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“­ë‹ˆë‹¤
> > > p[0] + p[1] # ì¼ë°˜ íŠœí”Œ (11, 22) ì²˜ëŸ¼ ì¸ë±ì‹±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
> > > 33
> > > x, y = p # ì¼ë°˜ íŠœí”Œì²˜ëŸ¼ ì–¸íŒ©í•©ë‹ˆë‹¤
> > > x, y
> > > (11, 22)
> > > p.x + p.y # í•„ë“œëŠ” ì´ë¦„ìœ¼ë¡œë„ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
> > > 33
> > > p # name=value ìŠ¤íƒ€ì¼ì˜ ê°€ë…ì„± ìˆëŠ” **repr**
> > > Point(x=11, y=22) {% endcode %}

- tuple, namedtuple, dict ë¹„êµ

{% code lang:python %}

# runtime.py written in PyCharm

from time import time
from math import sqrt

# ì¼ë°˜ì ì¸ íŠœí”Œ ì‚¬ìš©

pt1 = (1.0, 5.0)
pt2 = (2.5, 1.5)

start1= time()
line_leng1 = sqrt((pt2[0] - pt1[0]) ** 2 + (pt2[1] - pt1[1]) ** 2)
end1 = time()
print('tuple: '.rjust(15), round((end1-start1)\* 10\*\*3, 6))

###################################################################

# ë„¤ì„ë“œ íŠœí”Œ ì‚¬ìš©

from collections import namedtuple

Point = namedtuple('Point', 'x y')
pnt1 = Point(1.0, 5.0)
pnt2 = Point(2.5, 1.5)

start2= time()
line_leng2 = sqrt((pnt2.x - pnt1.x) ** 2 + (pnt2.y - pnt1.y) ** 2)
end2 = time()
print('namedTuple: '.rjust(15), round((end2-start2)\* 10\*\*3, 6))

###################################################################

# ë”•ì…”ë„ˆë¦¬ ì‚¬ìš©

pdt1 = {'x': 1.0, 'y': 5.0}
pdt2 = {'x': 2.5, 'y': 1.5}

start3= time()
line_leng3 = sqrt((pdt2['x'] - pdt1['x']) ** 2 + (pdt2['y'] - pdt1['y']) ** 2)
end3 = time()
print('dict: '.rjust(15), round((end3-start3)\* 10\*\*3, 6)) {% endcode %}

{% code lang:python %}
tuple: 0.068188
namedTuple: 0.010014
dict: 0.004053 {% endcode %}
{% endnote %}

### deque()

{% note primary no-icon %}
double-ended queue ì˜ ì¤„ì„ë§ë¡œ, ì•ê³¼ ë’¤ì—ì„œ ì¦‰, ì–‘ë°©í–¥ì—ì„œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” queueí˜• ìë£Œêµ¬ì¡°ë¥¼ ì˜ë¯¸í•œë‹¤.
ë”í•˜ê¸° : ì¶”ê°€(append, appendleft), í™•ì¥(extend, extendleft), ì‚½ì…(insert)
ë¹¼ê¸° : ë¹„ìš°ê¸°(clear), ì œê±°(remove), ë°˜í™˜ ë° ì œê±°(pop)
ì¡°ì‘ : ë’¤ì§‘ê¸°(reverse), íšŒì „(rotate), ë³µì‚¬(copy)
í™•ì¸ : ìš”ì†Œ ìˆ˜(count), ìœ„ì¹˜(index), ìµœëŒ€í¬ê¸°(maxlen)

{% code lang:python %}

# runtime.py written in PyCharm

from collections import deque

deq = deque(['a', 'b', 'c'])

deq.append('d')
print('append -> d: ', deq)
deq.appendleft('z')
print('append <- z: ', deq)
deq.extend('ef')
print('extend -> ef: ', deq) # listì˜ extend ê²°ê³¼ì™€ ì¡°ê¸ˆ ë‹¤ë¥¸ ê²ƒì„ ì£¼ì˜!!
deq.extendleft('xy')
print('extend <- xy: ', deq)

deql = deq.copy()

print('deque.pop() ->', end=' ')
while True:
try:
print(deq.pop(), end=' ')
except IndexError:
break

print()
print('deque.popleft() <-', end=' ')
while True:
try:
print(deql.popleft(), end=' ')
except IndexError:
break {% endcode %}

{% code lang:python %}
append -> d: deque(['a', 'b', 'c', 'd'])
append <- z: deque(['z', 'a', 'b', 'c', 'd'])
extend -> ef: deque(['z', 'a', 'b', 'c', 'd', 'e', 'f'])
extend <- xy: deque(['y', 'x', 'z', 'a', 'b', 'c', 'd', 'e', 'f'])
deque.pop() -> f e d c b a z x y
deque.popleft() <- y x z a b c d e f {% endcode %}

{% endnote %}

### ChainMap()

{% note primary no-icon %}
íŒŒì´ì¬ 3.3v ë¶€í„° ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.
ì‚¬ì‹¤ ê¸°ë³¸ ë‚´ì¥í•¨ìˆ˜ì—ì„œ `dict.update()` ë¥¼ í†µí•´ Chain of Dictionariesë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆê¸°ì— êµ³ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ì´ë‹¤.
í•˜ì§€ë§Œ `ChainMap()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œ ì½”ë“œ ì‘ì„±ì˜ í¸ì˜ì„±ê³¼ ê°€ë…ì„±ì´ ë†’ì•„ì§€ëŠ” ì¥ì ì„ ë¬´ì‹œ í•  ìˆ˜ëŠ” ì—†ë‹¤.

![a chain of mappings](https://florimondmanca-personal-website.s3.amazonaws.com/media/markdownx/d6d63ed6-2ee4-432a-81fa-586937e6ee04.png)
{% code lang:python %}

# runtime.py written in PyCharm

from collections import ChainMap
from time import time

# ChainMap ì‚¬ìš©

start = time()
toys = {'Blocks': 30, 'Monopoly': 20}
computers = {'iMac': 1000, 'Chromebook': 800, 'PC': 400}
clothing = {'Jeans': 40, 'T-Shirt': 10}
inventory_chain = ChainMap(toys, computers, clothing)
end = time()
run = end - start

print(round(run \* 10\*\*2, 5))
##########################################################

# dict.update() ì‚¬ìš©

start1 = time()
inventory = dict()
inventory.update(toys)
inventory.update(computers)
inventory.update(clothing)
end1 = time()
run1 = end1 - start1

print(round(run1 \* 10\*\*2, 5))
##########################################################

# ë‚´ìš© í™•ì¸

print(inventory_chain if inventory_chain == inventory else 'Not same!') {% endcode %}
{% code lang:python %}
0.00088
0.00062
ChainMap({'Blocks': 30, 'Monopoly': 20}, {'iMac': 1000, 'Chromebook': 800, 'PC': 400}, {'Jeans': 40, 'T-Shirt': 10}) {% endcode %}
{% endnote %}

### Counter()

{% note primary no-icon %}
ë¹ˆë„ìˆ˜ë¥¼ í™•ì¸í•  ë•Œ ë§ì´ ì‚¬ìš©ëœë‹¤

{% code lang:python %}

> > > # ëª©ë¡ì— ìˆëŠ” ë‹¨ì–´ì˜ ë¹ˆë„ë¥¼ ì§‘ê³„
> > >
> > > cnt = Counter()
> > > for word in ['red', 'blue', 'red', 'green', 'blue', 'blue']:
> > > ... cnt[word] += 1
> > > cnt
> > > Counter({'blue': 3, 'red': 2, 'green': 1})

> > > # í–„ë¦¿ì—ì„œ ê°€ì¥ í”í•œ ë‹¨ì–´ë¥¼ ì°¾ìŒ
> > >
> > > import re
> > > words = re.findall(r'\w+', open('hamlet.txt').read().lower())
> > > Counter(words).most_common(10)
> > > [('the', 1143), ('and', 966), ('to', 762), ('of', 669), ('i', 631),
> > > ('you', 554), ('a', 546), ('my', 514), ('hamlet', 471), ('in', 451)] {% endcode %}
> > > {% endnote %}

### OrderedDict()

{% note primary no-icon %}
ë”•ì…”ë„ˆë¦¬ ìˆœì„œë¥¼ ì¬ë°°ì¹˜í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.
`popitem(last=True)` : lastê°€ ì°¸ì´ë©´ LIFO ìˆœì„œë¡œ, ê±°ì§“ì´ë©´ FIFO ìˆœì„œë¡œ (key, value) ê°’ì„ ë°˜í™˜í•œë‹¤
`move_to_end(key, last=True)` : keyë¥¼ lastê°€ ì°¸ì´ë©´ ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ, ê±°ì§“ì´ë©´ ì™¼ìª½ ëìœ¼ë¡œ ë³´ë‚¸ë‹¤

{% code lang:python %}

> > > d.move_to_end('b')
> > > ''.join(d.keys())
> > > 'acdeb'
> > > d.move_to_end('b', last=False)
> > > ''.join(d.keys())
> > > 'bacde' {% endcode %}
> > > {% endnote %}

{% endnote %}

---

---
